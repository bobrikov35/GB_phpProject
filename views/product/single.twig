{% extends 'layouts/main.twig' %}

{% block style %}
    <link rel="stylesheet" href="/css/productSingle.css?t={{ sol }}">
{% endblock %}

{% block script %}
    <script src="/js/product.js?t={{ sol }}"></script>
{% endblock %}

{% block title %}Товар{% endblock %}

{% block content %}

    <div class="product">

        <div class="product__image" data-img="0" onclick="imgClick(this)">

            {% if product.images != [] %}

                {% for index, image in product.images %}
                    <img src="{{ image }}" id="img-{{ index }}" alt="product"
                         {% if index > 0 %}style="display: none;"{% endif %}>
                {% endfor %}

            {% else %}

                <img src="{{ product.image }}" id="img-0" alt="product">

            {% endif %}

        </div>
        <div class="product__content">
            <h2 class="product__name">{{ product.title }}</h2>
            <p class="product__description">{{ product.description }}</p>
            <p class="product__price">Цена: {{ product.price }}<i class="fa fa-rub"></i></p>
            <div class="product__control">
                <a class="button product__button" href="/cart/add/?id={{ product.id }}">Добавить в корзину</a>
                <a class="button product__button" href="/feedback/add/?id={{ product.id }}">Оставить отзыв</a>
            </div>
        </div>

    </div>

    <div class="feedback">
        <h3 class="feedback__title">Отзывы</h3>

        {% if product.feedbacks != [] %}

            {% for feedback in product.feedbacks %}
                <div class="feedback__block">
                    <h4 class="feedback__name">{{ feedback.name }} &nbsp; &lt;&lt; {{ feedback.email }} &gt;&gt;</h4>
                    <hr>
                    <p class="feedback__comment">{{ feedback.comment }}</p>
                </div>
            {% endfor %}

        {% else %}

            <h4 class="feedback__name">Отзывов нет</h4>

        {% endif %}

    </div>

{% endblock %}

{% block jscript %}
    <script src="/js/product.js"></script>
{% endblock %}
